<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Form Validation using JS & PHP</title>
</head>
<body>
    <form action='validate.php' method='POST'>
        Name: <input type='text' id='name' name='name'><br>
        Username: <input type='text' id='username' name='username'><br>
        Email: <input id='email' name='email'><br>
        Password: <input id="password" type='passwor' name='password'><br>
        <input type='submit'>
    </form>
    <p id="msg"></p>

    <script>
        $('form').addEventListener('submit', e => {
            e.preventDefault()
            validate(e)
        })
        
        function validate(e) {
            const name = $('#name'), username = $('#username'), email = $('#email'), password = $('#password'), msg = $('#msg')
            
            const regUsername = /^[a-zA-Z0-9._]+$/g,  /* REGEX for Username */
            regEmail = /(^[a-zA-Z0-9._-]+\@[a-zA-Z0-9._-]+\.[a-zA-Z0-9._-]+$)/g,  /* REGEX for Email */
            regPassword = /^[a-zA-Z0-9.@#]{5,}$/g /* REGEX for Password */
            
            msg.innerText = "JS validation!<br>"
            if (!name.trim() || !username.trim() || !email.trim() || !password.trim()) {
                msg.innerText += 'All field are required!<br>';
                return;
            }
            if (!regUsername.test(username)) {
                msg.innerText += "Invalid username! Should contain only letters, alphanumeric characters, dot and underscores.<br>"
            }
            if (!regEmail.test(email)) {
                msg.innerText += "Invalid email!<br>"
            }
            if (!regPassword.test(password)) {
                msg.innerText += "Invalid password! Should be more than 4 characters & contains at least one number and one special character."
            }
        }
        
        function $(v) {
            return document.querySelector(v)
        }
    </script>
</body>
</html>
